%% LaTeX2e file `reducecode.sty'
%% generated by the `filecontents' environment
%% from source `exampleReduce' on 2011/11/28.
%%
% Simple interleaving Reduce code and LaTeX documentation.
% Provides \begin{reduce} ... \end{reduce},
% \StartVerbatimLineNos (default), \StopVerbatimLineNos,
% and \ResumeVerbatimLineNos.
% A.J. Roberts, 2011-11-10

\usepackage{verbatim}
\def\reduce{}% protect against earlier defns
\renewenvironment{reduce}{\verbatim}{\endverbatim}

% automatically invoke line numbers,
% but allow users to turn on, off and resume at will.
\newcounter{VerbatimLineNo}
\newif\ifVerbatimLineNos
\VerbatimLineNostrue
\let\orig@verbatim@processline\verbatim@processline
\def\verbatim@processline{\ifVerbatimLineNos
  \stepcounter{VerbatimLineNo}\leavevmode
  \makebox[1.3em][r]{\rm\footnotesize\theVerbatimLineNo}\ %
  \the\verbatim@line\par%
  \else\orig@verbatim@processline%
  \fi}
\def\StartVerbatimLineNos{\VerbatimLineNostrue%
  \setcounter{VerbatimLineNo}{0}}
\def\StopVerbatimLineNos{\VerbatimLineNosfalse}
\def\ResumeVerbatimLineNos{\VerbatimLineNostrue}
